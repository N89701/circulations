# circulations
Проект для массовой рассылки сообщений абонентам
## Стек технологий
- Django
- DRF
- Celery
- Redis
- Postgres
- Docker
## Из чего он состоит?
В проекте есть модель клиента (телефон, код оператора и тег), а также модель рассылки (дата рассылки, текст рассылки, фильтры рассылки). Создавая объект рассылки, в назначенное время запускается скрипт, рассылающий указанный текст всем абонентам, подходящим под фильтры. Если не указать дату рассылки, то по дефолту рассылка запускается сразу после создания рассылки.
## Как создать абонента?
Отправить POST-запрос на адрес 
api/clients/
с примерно таким сожержимым:
{
    "telephone": "+79274884250",
    "operatore_code": "900",
    "tags": [1]
}
При GET-запросе на этот же адрес можно получить информацию о существующих клиентах.
## Как создать рассылку?
Отправить POST-запрос на адрес
api/circulations/
с примерно таким сожержимым:
{
    "text": "Привет всем малоактивным абонентам!",
    "filters":[{"filter":2, "value":"Малоктивен"}],
}
Можно также добавить поле
```
"date": "2025-01-23T17:35:58.850130Z"
```
При GET-запросе на этот же адрес можно получить информацию о существующих рассылках.
## Как убедиться, что письмо дошло?
Если срок, указанный в вашей рассылке, наступил (или его не было), то отправьте GET-запрос на адрес:
api/messages/
и найдите в списке сообщения из вашей рассылки (если конечно под ее фильтрацию попал хоть 1 клиент).
Для удобства тестирования к репозиторию приложена Postman-коллекция
### Контакт для обратной связи: Tg @N89701
